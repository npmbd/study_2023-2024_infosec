# Отчёт по лабораторной работе №2    

# Дисциплина: Основы информационной безопасности

# Выполнил: Маметкадыров Ынтымак

# Цель работы

Получить навыки работы в консоли с правами и атрибутами файлов и директорий, а
также проверка необходимых прав для выполнения различных действий для работы с файлами и диреториями.

# Теоретическое введение

Атрибуты --- это набор основных девяти битов, определяющих какие из пользователей обладают правами на чтение, запись
и исполнение. 
Первые три бита отвечают права доступа владельца, вторые --- для группы пользователей, последние --- для всех остальных
пользователей в системе.

Установка атрибутов производится командой chmod. Установка бита чтения (r) позволяет сделать файл доступным для чтения. 
Наличие бита записи (w) позволяет изменять файл. Установка бита запуска (x) позволяет запускать файл на исполнение.
 
Более подробно см. в [@gnu-doc:bash].

# Выполнение лабораторной работы

Создаём нового пользователя guest командой useradd, затем устанавливаем для него пароль с помощью команды passwd guest (рис. [-@fig:001]).

![Создание пользователя и установка пароля](https://raw.githubusercontent.com/npmbd/Simulation/master/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-09-16%20224347.png){ #fig:001 width=70% }

Заходим в систему от имени пользователя guest, используя только что установленный пароль. 

Выполняем команду pwd, которая показывает, что мы находимся в домашнем каталоге пользователя guest. Уточняем имя пользователя командой whoami, ожидаемо получаем вывод guest. C помощью команды id узнаём, что uid = 1001, gid = 1001 (guest). При вводе команды groups убеждаемся, что группа состоит из одного пользователя guest (рис. [-@fig:002]).

![Проверка данных пользователя](https://github.com/npmbd/Simulation/blob/master/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-09-16%20225001.png?raw=true){ #fig:002 width=70% }

В содержимом файла /etc/passwd находим информацию о пользователе, что соответствует данным, полученным с помощью команды id и pwd. Далее определяем содержимое каталога /home. С помощью команды ls -l /home/ видим две домашние директории: anpolienko и guest с их атрибутами rwx в первом бите для каждой. С помощью команды lsattr /home можем увидеть расширенные атрибуты только текущего пользователя. Далее создаём новый каталог dir1 и можем увидеть, что у него больше атрибутов по сравнению со стандартными директориями (рис. [-@fig:003]).

![Проверка атрибутов](https://github.com/npmbd/Simulation/blob/master/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-09-16%20225653.png?raw=true){ #fig:003 width=70% }

Меняем директории dir1 атрибуты с помощью команды chmod 000. Далее, при попытке создать файл, видим сообщение об ошибке, т.к. забрали права на всё у всех пользователей. Файл, соответственно, тоже не создаётся (рис. [-@fig:004]).

![Смена атрибутов](https://github.com/npmbd/Simulation/blob/master/%D0%A1%D0%BD%D0%B8%D0%BC%D0%BE%D0%BA%20%D1%8D%D0%BA%D1%80%D0%B0%D0%BD%D0%B0%202023-09-16%20225400.png?raw=true){ #fig:004 width=70% }

Далее изучим, как влияют различные комбинации атрибутов файлов и директории на различные действия. Для этого будем пытаться создать файл командой touch, удалить его командой rm, записать в файл командой echo >, прочитать файл командой cat, сменить директорию командой cd, просмотреть директорию командой ls, переименовать файл командой rename и сменить атрибуты командой chattr.

В случае успеха будет записывать +, в случае ошибки доступа будем записывать -. Соберём данные в таблицу [-@tbl:std-dir].

: Установленные права и разрешённые действия {#tbl:std-dir}

| Права директории | Права файла | Создание файла | Удаление файла | Запись в файл | Чтение файла | Смена директории | Просмотр файлов в директории | Переименование файла | Смена атрибутов файла |
| ---------------- | ----------- | -------------- | -------------- | ------------- | ------------ | ---------------- | ------------------- | ----------- | ---------- |
| d (000) | (000) | - | - | - | - | - | - | - | - |
| d --x (100) | (000) | - | - | - | - | + | - | - | - |
| d -w- (200) | (000) | - | - | - | - | - | - | - | - |
| d -wx (300) | (000) | + | + | - | - | + | - | + | - |
| d r-- (400) | (000) | - | - | - | - | - | + | - | - |
| d r-x (500) | (000) | - | - | - | - | + | + | - | - |
| d rw- (600) | (000) | - | - | - | - | - | + | - | - |
| d rwx (700) | (000) | + | + | - | - | + | + | + | - |
| d (000) | --x (100) | - | - | - | - | - | - | - | - |
| d --x (100) | --x (100) | - | - | - | - | + | - | - | - |
| d -w- (200) | --x (100) | - | - | - | - | - | - | - | - |
| d -wx (300) | --x (100) | + | + | - | - | + | - | + | - |
| d r-- (400) | --x (100) | - | - | - | - | - | + | - | - |
| d r-x (500) | --x (100) | - | - | - | - | + | + | - | - |
| d rw- (600) | --x (100) | - | - | - | - | - | + | - | - |
| d rwx (700) | --x (100) | + | + | - | - | + | + | + | - |
| d (000) | -w- (200) | - | - | - | - | - | - | - | - |
| d --x (100) | -w- (200) | - | - | + | - | + | - | - | - |
| d -w- (200) | -w- (200) | - | - | - | - | - | - | - | - |
| d -wx (300) | -w- (200) | + | + | + | - | + | - | + | - |
| d r-- (400) | -w- (200) | - | - | - | - | - | + | - | - |
| d r-x (500) | -w- (200) | - | - | + | - | + | + | - | - |
| d rw- (600) | -w- (200) | - | - | - | - | - | + | - | - |
| d rwx (700) | -w- (200) | + | + | + | - | + | + | + | - |
| d (000) | -wx (300) | - | - | - | - | - | - | - | - |
| d --x (100) | -wx (300) | - | - | + | - | + | - | - | - |
| d -w- (200) | -wx (300) | - | - | - | - | - | - | - | - |
| d -wx (300) | -wx (300) | + | + | + | - | + | - | + | - |
| d r-- (400) | -wx (300) | - | - | - | - | - | + | - | - |
| d r-x (500) | -wx (300) | - | - | + | - | + | + | - | - |
| d rw- (600) | -wx (300) | - | - | - | - | - | + | - | - |
| d rwx (700) | -wx (300) | + | + | + | - | + | + | + | - |
| d (000) | r-- (400) | - | - | - | - | - | - | - | - |
| d --x (100) | r-- (400) | - | - | - | + | + | - | - | + |
| d -w- (200) | r-- (400) | - | - | - | - | - | - | - | - |
| d -wx (300) | r-- (400) | + | + | - | + | + | - | + | + |
| d r-- (400) | r-- (400) | - | - | - | - | - | + | - | - |
| d r-x (500) | r-- (400) | - | - | - | + | + | + | - | + |
| d rw- (600) | r-- (400) | - | - | - | - | - | + | - | - |
| d rwx (700) | r-- (400) | + | + | - | + | + | + | + | + |
| d (000) | r-x (500) | - | - | - | - | - | - | - | - |
| d --x (100) | r-x (500) | - | - | - | + | + | - | - | + |
| d -w- (200) | r-x (500) | - | - | - | - | - | - | - | - |
| d -wx (300) | r-x (500) | + | + | - | + | + | - | + | + |
| d r-- (400) | r-x (500) | - | - | - | - | - | + | - | - |
| d r-x (500) | r-x (500) | - | - | - | + | + | + | - | + |
| d rw- (600) | r-x (500) | - | - | - | - | - | + | - | - |
| d rwx (700) | r-x (500) | + | + | - | + | + | + | + | + |
| d (000) | rw- (600) | - | - | - | - | - | - | - | - |
| d --x (100) | rw- (600) | - | - | + | + | + | - | - | + |
| d -w- (200) | rw- (600) | - | - | - | - | - | - | - | - |
| d -wx (300) | rw- (600) | + | + | + | + | + | - | + | + |
| d r-- (400) | rw- (600) | - | - | - | - | - | + | - | - |
| d r-x (500) | rw- (600) | - | - | + | + | + | + | - | + |
| d rw- (600) | rw- (600) | - | - | - | - | - | + | - | - |
| d rwx (700) | rw- (600) | + | + | + | + | + | + | + | + |
| d (000) | rwx (700) | - | - | - | - | - | - | - | - |
| d --x (100) | rwx (700) | - | - | + | + | + | - | - | + |
| d -w- (200) | rwx (700) | - | - | - | - | - | - | - | - |
| d -wx (300) | rwx (700) | + | + | + | + | + | - | + | + |
| d r-- (400) | rwx (700) | - | - | - | - | - | + | - | - |
| d r-x (500) | rwx (700) | - | - | + | + | + | + | - | + |
| d rw- (600) | rwx (700) | - | - | - | - | - | + | - | - |
| d rwx (700) | rwx (700) | + | + | + | + | + | + | + | + |

На основании этой таблицы создадим другую, в которой опишем минимальные требования на права и директорию для выполнения тех или иных действий. Внесём проанализированные данные в таблицу [-@tbl:std-dir1]. 

: Минимальные права для совершения операций {#tbl:std-dir1}

| Операция | Минимальные права на директорию | Минимальные права на файл |
| -------- | ------------------------------- | ------------------------- |
| Создание файла | d -wx (300) | --- (000) |
| Удаление файла | d -wx (300) | --- (000) |
| Чтение файла | d --x (100) | r-- (400) |
| Запись в файл | d --x (100) | -w- (200) |
| Переименование файла | d -wx (300) | --- (000) |
| Создание поддиректории | d -wx (300) | --- (000) |
| Удаление поддиректории | d -wx (300) | --- (000) |

# Выводы

Приобрели практические навыки работы с атрибутами директорий и файлов через консоль, выяснили минимальные требования и права для совершения различных действий над файлами и директориями.

# Список литературы{.unnumbered}

1. File attributes in Linux [Электронный ресурс]. ITProffi, 2016
